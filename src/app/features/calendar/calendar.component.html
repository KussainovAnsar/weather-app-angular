<div class="calendar-container">
  <div class="calendar-header">
    <button (click)="changeMonth(-1)">&#8592;</button>
    <h2>{{ currentDate | date: 'LLLL yyyy' }}</h2>
    <button (click)="changeMonth(1)">&#8594;</button>
  </div>

  <div class="calendar-grid">
    <div class="calendar-day-name" *ngFor="let day of ['–ü–Ω','–í—Ç','–°—Ä','–ß—Ç','–ü—Ç','–°–±','–í—Å']">
      {{ day }}
    </div>

    <div class="calendar-empty" *ngFor="let _ of [].constructor(firstDayOffset)"></div>

    <div
      class="calendar-day"
      *ngFor="let day of daysInMonth"
      [class.selected]="selectedDate === (currentDate.getFullYear() + '-' + (currentDate.getMonth()+1).toString().padStart(2, '0') + '-' + day.toString().padStart(2, '0'))"
      (click)="selectedDate = (currentDate.getFullYear() + '-' + (currentDate.getMonth()+1).toString().padStart(2, '0') + '-' + day.toString().padStart(2, '0'))"
    >
      <span class="day-number">{{ day }}</span>
      <ul class="events-list">
        <li *ngFor="let e of getEventsForDay(day)">
          {{ e.title }}
        </li>
      </ul>
    </div>
  </div>
</div>

<hr>

<h3>–°–æ–±—ã—Ç–∏—è –Ω–∞ {{ selectedDate }}</h3>
<ul>
  <li *ngFor="let e of eventsForSelectedDate">
    <strong>{{ e.title }}</strong> ‚Äî {{ e.description || '–±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è' }}
    <button (click)="editEvent(e)">‚úé</button>
    <button (click)="deleteEvent(e.id)">üóë</button>
  </li>
</ul>

<hr>

<h3>–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</h3>
<form (ngSubmit)="addEvent()">
  <input [(ngModel)]="newTitle" name="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required>
  <input [(ngModel)]="newDate" name="date" type="date" required>
  <input [(ngModel)]="newDesc" name="desc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ">
  <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
</form>
